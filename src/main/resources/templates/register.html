<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RPG JUEGO ROL Registro</title>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link
	href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Roboto:wght@400;500;700&display=swap"
	rel="stylesheet">
<link rel="stylesheet" href="css/login.css">
</head>

<body>
	<div class="background-overlay"></div>

	<div class="login-container">
		<div class="login-box">
			<!-- Header -->
			<div class="login-header">
				<i class="fas fa-file-signature"></i>
				<h1>REGISTRO</h1>
				<p class="subtitle">Solicita tu instancia de jugador</p>
			</div>

			<!-- Formulario de Registro -->
			<form action="/register" method="post" class="login-form">

				<!-- Campo Usuario -->
				<div class="form-group">
					<label for="usuario"> <i class="fas fa-user-tag"></i>
						Nombre de Usuario
					</label> <input type="text" id="usuario" name="usuario"
						placeholder="Elige tu nombre de guerrero" required
						autocomplete="username">
				</div>

				<!-- Campo Email -->
				<div class="form-group">
					<label for="email"> <i class="fas fa-envelope"></i> Correo
						Electrónico
					</label> <input type="email" id="email" name="email"
						placeholder="tu@email.com" required autocomplete="email">
				</div>

				<!-- Campo Password -->
				<div class="form-group">
					<label for="password"> <i class="fas fa-lock"></i>
						Contraseña
					</label>
					<div class="password-wrapper">
						<input type="password" id="password" name="password"
							placeholder="Mínimo 8 caracteres" required
							autocomplete="new-password">
						<button type="button" class="toggle-password"
							onclick="togglePassword('password', 'toggleIcon1')">
							<i class="fas fa-eye" id="toggleIcon1"></i>
						</button>
					</div>
				</div>

				<!-- Campo Confirmar Password -->
				<div class="form-group">
					<label for="confirm_password"> <i class="fas fa-lock"></i>
						Confirmar Contraseña
					</label>
					<div class="password-wrapper">
						<input type="password" id="confirm_password"
							name="confirm_password" placeholder="Repite tu contraseña"
							required autocomplete="new-password">
						<button type="button" class="toggle-password"
							onclick="togglePassword('confirm_password', 'toggleIcon2')">
							<i class="fas fa-eye" id="toggleIcon2"></i>
						</button>
					</div>
				</div>

				<!-- Términos -->
				<div id="termsModal" class="modal">
					<div class="modal-content">
						<h2>Términos y Condiciones RPG</h2><br><br>
						<p>
							1. Juramento del Funcionario Aventurero<br> Al registrarte,
							aceptas que tu alma queda vinculada al Gran Archivo Central. No
							se admiten quejas, reclamaciones ni formularios incompletos.
						</p><br><br>

						<p>
							2. Uso Responsable del Papeleo<br> Te comprometes a no
							falsificar sellos, duplicar expedientes, manipular informes ni
							invocar atajos ilegales entre ventanillas.
						</p><br><br>

						<p>
							3. Conducta en la Oficina Real<br> Nada de insultar a otros
							funcionarios, colarte en la fila, interrumpir turnos o lanzar
							grapadoras. La paz administrativa es sagrada.
						</p><br><br>

						<p>
							4. Riesgos del Sistema Burocrático<br> El Reino puede sufrir
							retrasos, caídas del servidor, pérdida de documentos o aparición
							espontánea de nuevas normativas. Es parte de la aventura.
						</p><br><br>

						<p>
							5. Sanciones del Alto Consejo Administrativo<br> El
							incumplimiento de estas normas puede resultar en degradación a
							Auxiliar de Auxiliar, exilio al sótano de archivos o expulsión
							del Ministerio.
						</p><br><br>

						<p>
							6. Aceptación Final<br> Al pulsar “Aceptar”, reconoces haber
							leído estas normas y aceptas tu destino como valiente servidor
							del Reino Burocrático.
						</p><br><br>

						<button id="acceptTermsBtn" class="btn-accept">Aceptar</button>
					</div>
				</div>

				<div class="form-options">
					<label class="checkbox-container"> <input type="checkbox"
						id="termsCheckbox" name="terms" required
						onclick="openTermsModal(event)"> <span class="checkmark"></span>
						Acepto los términos y condiciones
					</label>
				</div>

				<!-- Botón Submit -->
				<button type="submit" class="btn-login">
					<i class="fas fa-user-plus"></i> Registrarse
				</button>
			</form>

			<!-- Separador -->
			<div class="separator">
				<span>o</span>
			</div>

			<!-- Volver a Login -->
			<div class="register-section">
				<p>¿Ya tienes cuenta?</p>
				<a href="/logging" class="btn-register"> <i
					class="fas fa-sign-in-alt"></i> Volver al Login
				</a>
			</div>

			<!-- Footer -->
			<div class="login-footer">
				<p>&copy; 2026. Todos los derechos reservados.</p>
			</div>
		</div>
	</div>

	<script>
		function togglePassword(inputId, iconId) {
			const passwordInput = document.getElementById(inputId);
			const toggleIcon = document.getElementById(iconId);

			if (passwordInput.type === 'password') {
				passwordInput.type = 'text';
				toggleIcon.classList.remove('fa-eye');
				toggleIcon.classList.add('fa-eye-slash');
			} else {
				passwordInput.type = 'password';
				toggleIcon.classList.remove('fa-eye-slash');
				toggleIcon.classList.add('fa-eye');
			}
		}

		function openTermsModal(event) {
			event.preventDefault();
			document.getElementById("termsModal").style.display = "flex";
		}

		document
				.getElementById("acceptTermsBtn")
				.addEventListener(
						"click",
						function() {
							document.getElementById("termsModal").style.display = "none";
							document.getElementById("termsCheckbox").checked = true;
						});

		window.onclick = function(event) {
			const modal = document.getElementById("termsModal");
			if (event.target === modal) {
				modal.style.display = "none";
			}
		}
	</script>
</body>

</html>